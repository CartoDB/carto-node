!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("carto-node",[],e):"object"==typeof exports?exports["carto-node"]=e():t["carto-node"]=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a=r(1);e.default={apiPath:a.ApiVersionPath.API_DEFAULT_Path,staticConfig:{},get:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.request.apply(this,["get"].concat(n(e)))},put:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.request.apply(this,["put"].concat(n(e)))},post:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.request.apply(this,["post"].concat(n(e)))},delete:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.request.apply(this,["delete"].concat(n(e)))},setApiPath:function(t){return this.apiPath=t,this},setStaticConfig:function(t){return this.staticConfig=t,this},setClientConfig:function(t){var e=t.host,r=t.protocol,n=t.href,i=n.match(/(\/(u|user)\/[a-z0-9\-]+)\//),a=i&&i[1]||"";return this.staticConfig.baseUrl=r+"//"+e+a,this},addHeaders:function(t,e,r){return Object.assign(t,{method:e.toUpperCase(),headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8",Cache:"no-cache"},credentials:"include"}),i({},r,t)},makeRelativePath:function(t){return""+t.join("/")},makeAbsolutePath:function(t){return""+this.apiPath+t},getAssetsBaseUrl:function(){return this.staticConfig.baseUrl},request:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.staticConfig.baseUrl,i=this.makeRelativePath(e);return this.addHeaders(r,t),fetch(n+"/"+i,r).then(function(t){return t.json()})}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ApiDataPath=Object.freeze({CONFIG:"/me",VIZ:"/viz"}),e.ApiVersionPath=Object.freeze({API_DEFAULT_URI:"api/v3",API_V1_URI:"api/v1",API_V2_URI:"api/v2",API_V3_URI:"api/v3"})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.AuthenticatedClient=e.PublicClient=void 0;var i=r(0),a=n(i),o=r(3),u=n(o);e.PublicClient=a.default,e.AuthenticatedClient=u.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a=r(0),o=n(a),u=r(4),s=n(u);e.default=i({},o.default,{getConfig:function(){var t=s.default.getConfigPath();return this.get([t])},getVisualization:function(t,e){var r=s.default.getVizPath(),n=this.paramsToURI(e);return this.get([r,t,n])},getDerivedMaps:function(t){var e=s.default.getVizPath(),r=this.paramsToURI({per_page:t,type:"derived"});return this.get([e,r])}}),t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);e.default={getConfigPath:function(){return""+n.ApiVersionPath.API_V3_URI+n.ApiDataPath.CONFIG},getVizPath:function(t){return""+n.ApiVersionPath.API_V1_URI+n.ApiDataPath.VIZ}},t.exports=e.default}])});